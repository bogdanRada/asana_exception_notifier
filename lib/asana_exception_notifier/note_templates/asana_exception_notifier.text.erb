A <%= exception.class.to_s %> occured: <%= exception.message.to_s %>
<% if body = extract_body(@env) %>

  ===================================================================
  Request Body:
  ===================================================================

  <%= body.gsub(/^/, '  ') %>
<% end %>
<% if exception.respond_to?(:backtrace)  %>
<% if exception.backtrace.present?  %>
  ===================================================================
  Backtrace:
  ===================================================================

  <%= exception.backtrace.join("\n  ") %>
<% end %>
<% if exception.cause.present?  %>
  ===================================================================
  Cause:
  ===================================================================

  <%= exception.cause.join("\n  ") %>
<% end %>
<% end %>
  ===================================================================
Rack Environment:
===================================================================

PID:                     <%= $$ %>
PWD:                     <%= Dir.getwd %>
<% format_type = "%-#{max_length(table_data, 0).size}s: %-#{max_length(table_data, 1).size}s\r\n" %>
<% table_data.each do |key, value| %>
<%= format_type % [key, value] %>
<% end %>
